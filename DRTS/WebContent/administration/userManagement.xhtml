<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
    	
    	<ui:include src="#{root}includes/scripts.xhtml" />

	   	<title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body class="section-five">
    
    	<ui:include src="#{root}includes/header.xhtml">
    		<ui:param name="active" value="5" />
    	</ui:include>
    	
    	<div id="content-wrapper">
            <div class="grid">
                <div id="breadcrumb" class="col-1-1 mobile-col-1-1">
                    <h:link value="Home" outcome="#{userSession.homePage}" /> Â» User Management
                </div>
                <section class="col-1-1 mobile-col-1-1">
                    <header id="content-header" class="col-1-1 mobile-col-1-1">
                        <span class="content-header-box">
                            <h1>User Management</h1>
                        </span>
                    </header>
                    <div id="main-content" class="col-1-1 mobile-col-1-1">
                        <section class="col-1-1 mobile-col-1-1">
                        
                        	<h:form styleClass="col-1-1 mobile-col-1-1">
                        	
                        		<p>
      								The table below lists all of the users that are currently present in the DRTS application. Use the 
      								"Edit" link, next to each user, to modify that user's information.
      							</p>
      							
      							<h:panelGroup rendered="#{not empty adminBean.users}">
					      		
						      		<h:dataTable styleClass="drtsTable" value="#{adminBean.users}" var="user">
						      		
						      			<h:column>
						      				<f:facet name="header">Username</f:facet>
						      				<h:outputText value="#{user.id}" />
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header">Name</f:facet>
						      				<h:outputText value="#{user.firstName} #{user.lastName}" />
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header">Email Address</f:facet>
						      				<h:outputText value="#{user.email}" />
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header">Group</f:facet>
						      				<h:outputText value="#{adminBean.getUserGroup(user.id)}" />
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header"></f:facet>
						      				<h:commandLink action="#{adminBean.goToEditUser(user)}" value="Edit" />
						      			</h:column>
						      		
						      		</h:dataTable>
						      		
								</h:panelGroup>
								
								<h:panelGroup rendered="#{empty adminBean.users}">
									<p>There are no users</p>
								</h:panelGroup>
    	
    						</h:form>
					    	
                        </section>
                    </div>
                </section>
            </div>
        </div>
        
        <ui:include src="#{root}includes/footer.xhtml" />
    	
    </h:body>
    
</html>