<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pf="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
    	
    	<ui:include src="#{root}includes/scripts.xhtml" />

	   	<title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body class="section-two">
    
    	<ui:include src="#{root}includes/header.xhtml">
    		<ui:param name="active" value="2" />
    	</ui:include>
    	
    	<div id="content-wrapper">
            <div class="grid">
                <div id="breadcrumb" class="col-1-1 mobile-col-1-1">
                    <h:link value="Home" outcome="#{userSession.homePage}" /> » All Requests
                </div>
                <section class="col-1-1 mobile-col-1-1">
                    <header id="content-header" class="col-1-1 mobile-col-1-1">
                        <span class="content-header-box">
                            <h1>All Requests</h1>
                        </span>
                    </header>
                    <div id="main-content" class="col-1-1 mobile-col-1-1">
                        <section class="col-1-1 mobile-col-1-1">
                        
                        	<h:form styleClass="col-1-1 mobile-col-1-1">
                        	
                        		<p>
      								Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla volutpat dui at metus ultrices, at 
      								sollicitudin felis varius. Cras sed orci nisl. Donec semper ornare dignissim. Fusce et neque finibus, 
      								porttitor elit vel, feugiat lectus. Aliquam nunc odio, placerat vitae dapibus finibus, facilisis venenatis 
      								eros. Vestibulum id purus sit amet risus dapibus elementum. In nulla elit, convallis et quam a, viverra 
      								dapibus justo.
      							</p>
      							
      							<p>
      								Ut nec lobortis odio. Aliquam iaculis erat non nunc sollicitudin, sit amet pharetra lorem blandit. In mollis 
      								vulputate malesuada. Proin vestibulum libero at nisi mollis, nec lacinia velit commodo. Fusce et tellus a 
      								elit placerat interdum ac iaculis neque. Duis sed lectus eget tellus vestibulum dignissim id non quam. Vivamus 
      								commodo justo in libero volutpat elementum. 
      							</p>
                        	
                        		<h:panelGroup rendered="#{not empty requestTableAll.dataRequests}">
					      		
						      		<h:dataTable styleClass="drtsTable" value="#{requestTableAll.dataRequests}" var="dataRequest">
						      		
						      			<h:column>
						      				<f:facet name="header">
						      					<h:commandLink actionListener="#{requestTableAll.sort}">
						      						<f:attribute name="sort_field" value="request_display_id" />
						      						<span>ID</span>
						      						<h:panelGroup rendered="#{requestTableAll.isSortedBy('request_display_id')}">
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq true}">
							      							<span class="arrow-up"></span>
							      						</h:panelGroup>
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq false}">
							      							<span class="arrow-down"></span>
							      						</h:panelGroup>
						      						</h:panelGroup>
						    			   		</h:commandLink>
						      				</f:facet>
						      				<h:outputText value="#{dataRequest.displayId}" />
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header">Description</f:facet>
						      				<h:outputText value="#{dataRequest.description}" />
						      			</h:column>
						      		
						      			<h:column>
						      				<f:facet name="header">
						      					<h:commandLink actionListener="#{requestTableAll.sort}">
						      						<f:attribute name="sort_field" value="request_created_by" />
						      						<span>Requestor</span>
						      						<h:panelGroup rendered="#{requestTableAll.isSortedBy('request_created_by')}">
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq true}">
							      							<span class="arrow-up"></span>
							      						</h:panelGroup>
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq false}">
							      							<span class="arrow-down"></span>
							      						</h:panelGroup>
						      						</h:panelGroup>
						    			   		</h:commandLink>
						      				</f:facet>
						      				<h:outputText value="#{dataRequest.drtsRequestor}" />
						      			</h:column>
						      		
						      			<h:column>
						      				<f:facet name="header">
						      					<h:commandLink actionListener="#{requestTableAll.sort}">
						      						<f:attribute name="sort_field" value="request_status" />
						      						<span>Status</span>
						      						<h:panelGroup rendered="#{requestTableAll.isSortedBy('request_status')}">
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq true}">
							      							<span class="arrow-up"></span>
							      						</h:panelGroup>
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq false}">
							      							<span class="arrow-down"></span>
							      						</h:panelGroup>
						      						</h:panelGroup>
						    			   		</h:commandLink>
						      				</f:facet>
						      				<h:outputText value="#{dataRequest.status}" />
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header">
						      					<h:commandLink actionListener="#{requestTableAll.sort}">
						      						<f:attribute name="sort_field" value="request_created_date_time" />
						      						<span>Created On</span>
						      						<h:panelGroup rendered="#{requestTableAll.isSortedBy('request_created_date_time')}">
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq true}">
							      							<span class="arrow-up"></span>
							      						</h:panelGroup>
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq false}">
							      							<span class="arrow-down"></span>
							      						</h:panelGroup>
						      						</h:panelGroup>
						    			   		</h:commandLink>
						      				</f:facet>
						      				<h:outputText value="#{dataRequest.createdDateTime}">
						      					<f:converter converterId="defaultDateTimeConverter" />
						      				</h:outputText>
						      			</h:column>
						      			
						      			<h:column>
						      				<f:facet name="header">
						      					<h:commandLink actionListener="#{requestTableAll.sort}">
						      						<f:attribute name="sort_field" value="request_due_date" />
						      						<span>Due Date</span>
						      						<h:panelGroup rendered="#{requestTableAll.isSortedBy('request_due_date')}">
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq true}">
							      							<span class="arrow-up"></span>
							      						</h:panelGroup>
							      						<h:panelGroup rendered="#{requestTableAll.sortAscending eq false}">
							      							<span class="arrow-down"></span>
							      						</h:panelGroup>
						      						</h:panelGroup>
						    			   		</h:commandLink>
						      				</f:facet>
						      				<h:outputText value="#{dataRequest.dueDate}">
						      					<f:converter converterId="defaultDateConverter" />
						      				</h:outputText>
						      			</h:column>
						      		
						      		</h:dataTable>
						      		
						      		<h:panelGroup rendered="#{requestTableAll.totalPages > 1}">
							      		<div class="table-control">
		                                    <h:outputText value="(Page #{requestTableAll.currentPage}/#{requestTableAll.totalPages}) " />
		                                    <h:commandLink value="« first" action="#{requestTableAll.pageFirst}" rendered="#{requestTableAll.firstRow ne 0}" />
		                                    <h:commandLink value="‹ prev" action="#{requestTableAll.pagePrevious}" rendered="#{requestTableAll.firstRow ne 0}" />
		                                    <ui:repeat var="page" value="#{requestTableAll.pages}">
												<h:commandLink value="#{page}" actionListener="#{requestTableAll.page}" rendered="#{page ne requestTableAll.currentPage}" />
												<h:outputText value="#{page}" escape="false" rendered="#{page eq requestTableAll.currentPage}" />
											</ui:repeat>
		                                    <h:commandLink value="next ›" action="#{requestTableAll.pageNext}" rendered="#{(requestTableAll.firstRow + requestTableAll.rowsPerPage) lt requestTableAll.totalRows}" />
							      			<h:commandLink value="last »" action="#{requestTableAll.pageLast}" rendered="#{(requestTableAll.firstRow + requestTableAll.rowsPerPage) lt requestTableAll.totalRows}" />
		                                </div>
	                                </h:panelGroup>
						      		
								</h:panelGroup>
								
								<h:panelGroup rendered="#{empty requestTableAll.dataRequests}">
									<p>There are no data requests.</p>
								</h:panelGroup>
    	
    						</h:form>
					    	
                        </section>
                    </div>
                </section>
            </div>
        </div>
        
        <ui:include src="#{root}includes/footer.xhtml" />
    	
    </h:body>
    
</html>