<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pf="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
        
        <ui:include src="#{root}includes/scripts.xhtml" />

	   <title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body>
    
    	<ui:include src="#{root}includes/header.xhtml" />
    	
    	<h:form>
    	
    		<h2>Handle New Request</h2>
    		
    		<ul>
      			<li><h:link value="Home" outcome="#{userSession.user.homePage}" /></li>
      			<li><h:link value="Create New Request" rendered="#{userSession.allowedToCreateRequests}" outcome="/dataRequest/newRequest" /></li>
      		</ul>
      		
      		<h:outputLabel value="ID: "/>
      		<h:outputText value="#{dataRequest.requestId}" />
      		<br/>
      		<br/>
      		
      		<h:outputLabel value="Type: "/>
      		<h:outputText value="#{dataRequest.requestType}" />
      		<br/>
      		<br/>
      		
      		<h:outputLabel value="Created Date: "/>
      		<h:outputText value="#{dataRequest.requestCreatedDate}">
      			<f:converter converterId="defaultDateConverter" />
      		</h:outputText>
      		<br/>
      		<br/>
      		
      		<h:outputLabel value="Description: "/>
      		<br/>
      		<h:outputText value="#{dataRequest.requestDescription}" />
      		<br/>
      		<br/>
      		
      		<h:outputLabel value="Urgency Flag: "/>
      		<h:outputText value="#{dataRequest.requestUrgent}" />
      		<br/>
      		<br/>
    
      		<h:outputLabel value="Requestor Email: "/>
      		<h:outputText value="#{dataRequest.requestorEmail}" />
      		<br/>
      		<br/>
      		
      		<h:selectOneMenu value="#{dataRequest.assignedSme}">
	   			<f:selectItems value="#{dataRequest.smes}" />
	   		</h:selectOneMenu>
      		<h:commandButton value="Assign to SME" action="#{dataRequest.assignNewRequestToSME}" />
      		<br/>
      		<h:commandButton value="Reject" action="#{dataRequest.rejectNewRequest}" />
    	</h:form>
        
        <ui:include src="#{root}includes/footer.xhtml" />
    	
    </h:body>
    
</html>