<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pf="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
    	
    	<ui:include src="#{root}includes/scripts.xhtml" />

	   	<title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body class="section-two">
    
    	<ui:include src="#{root}includes/header.xhtml">
    		<ui:param name="active" value="2" />
    	</ui:include>
    	
    	<div id="content-wrapper">
            <div class="grid">
                <div id="breadcrumb" class="col-1-1 mobile-col-1-1">
                    <h:link value="Home" outcome="#{userSession.homePage}" /> Â» Request <h:outputText value="#{dataRequest.displayId}" />
                </div>
                <section class="col-1-1 mobile-col-1-1">
                    <header id="content-header" class="col-1-1 mobile-col-1-1">
                        <span class="content-header-box">
                            <h1>Handle Request</h1>
                        </span>
                    </header>
                    <div id="main-content" class="col-1-1 mobile-col-1-1">
                        <section class="col-1-1 mobile-col-1-1">
                        
                        	<h:form id="request-form" styleClass="col-1-1 mobile-col-1-1">
                        	
                        		<p>
      								Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla volutpat dui at metus ultrices, at 
      								sollicitudin felis varius. Cras sed orci nisl. Donec semper ornare dignissim. Fusce et neque finibus, 
      								porttitor elit vel, feugiat lectus. Aliquam nunc odio, placerat vitae dapibus finibus, facilisis venenatis 
      								eros. Vestibulum id purus sit amet risus dapibus elementum. In nulla elit, convallis et quam a, viverra 
      								dapibus justo.
      							</p>
                        	
                        		<div class="form-wrapper col-1-1 mobile-col-1-1">
                                    
                                    <div id="drtsTabs">
                                         <ul>
                                            <li><a href="#general">General</a></li>
                                            <li><a href="#requestor">Requestor</a></li>
                                            <li><a href="#receiver">Receiver</a></li>
                                            <li><a href="#assignment">Assignment</a></li>
                                            <li><a href="#validation">Validation</a></li>
                                            <li><a href="#attachments">Attachments</a></li>
                                            <li><a href="#comments">Comments</a></li>
                                        </ul>
                                        <div id="general">
                                            <h:outputLabel value="ID"/>
                                            <h:outputText styleClass="form-text" value="#{dataRequest.displayId}" />

											<h:outputLabel value="Iteration"/>
                                            <h:outputText styleClass="form-text" value="#{dataRequest.iteration}" />

											<h:outputLabel value="Status"/>
                                            <h:outputText styleClass="form-text" value="#{dataRequest.status}" />
                                            
                                            <label>Original Request Date</label>
                                            <h:outputText styleClass="form-text" value="#{dataRequest.createdDateTime}">
								      			<f:converter converterId="defaultDateTimeConverter" />
								      		</h:outputText>
								      		
								      		<h:outputLabel value="Type"/>
								      		<h:selectOneMenu value="#{dataRequest.type}">
									   			<f:selectItems value="#{dataRequest.types}" />
									   		</h:selectOneMenu>
									   		
									   		<h:outputLabel value="System"/>
		                                    <h:selectOneMenu value="#{dataRequest.system}">
									   			<f:selectItems value="#{dataRequest.systems}" />
									   		</h:selectOneMenu>
                                            
                                            <h:outputLabel value="Due Date"/>
                                            <h:inputText styleClass="datepicker" value="#{dataRequest.dueDate}">
                                            	<f:converter converterId="defaultDateConverter" />
                                            </h:inputText>
                                            
                                            <h:outputLabel value="Urgency Flag"/>
                                            <h:selectBooleanCheckbox value="#{dataRequest.urgent}" />
                                            
                                            <h:outputLabel value="PII Flag"/>
                                            <h:selectBooleanCheckbox value="#{dataRequest.pii}" />
                                            
                                            <h:outputLabel value="Related Requests"/>
                                            <h:inputTextarea value="#{dataRequest.relatedRequests}" />

											<h:outputLabel value="Topic/Keywords"/>
                                            <h:inputTextarea value="#{dataRequest.topicKeywords}" />

											<h:outputLabel value="Description"/>
                                            <h:inputTextarea value="#{dataRequest.description}" />

                                            <h:outputLabel value="Purpose"/>
                                            <h:inputTextarea value="#{dataRequest.purpose}" />

                                            <h:outputLabel value="Special Considerations/Issues"/>
                                            <h:inputTextarea value="#{dataRequest.specialConsiderationsIssues}" />
                                        </div>
                                        <div id="requestor">
                                        	<h:outputLabel value="Requestor"/>
                                            <h:inputText value="#{dataRequest.requestorName}" />
                                            
                                        	<h:outputLabel value="Requestor Organization"/>
                                            <h:inputText value="#{dataRequest.requestorOrganization}" />
                                            
                                        	<h:outputLabel value="Requestor Phone"/>
                                            <h:inputText value="#{dataRequest.requestorPhone}" />
                                            
                                        	<h:outputLabel value="Requestor Email"/>
                                            <h:inputText value="#{dataRequest.requestorEmail}" />
                                        </div>
                                        <div id="receiver">
                                        	<h:outputLabel value="Receiver"/>
                                            <h:inputText value="#{dataRequest.receiverName}" />
                                            
                                        	<h:outputLabel value="Receiver Email"/>
                                            <h:inputText value="#{dataRequest.receiverEmail}" />
                                        </div>
                                        <div id="assignment">
                                            <h:outputLabel value="Assign To"/>
                                            <h:selectOneMenu value="#{dataRequest.assignedSme}">
									   			<f:selectItems value="#{dataRequest.smes}" />
									   		</h:selectOneMenu>
                                        </div>
                                        <div id="validation">
	                                        <h:outputLabel value="Assign To"/>
                                            <h:selectOneMenu value="#{dataRequest.assignedValidator}">
									   			<f:selectItems value="#{dataRequest.smes}" />
									   		</h:selectOneMenu>
									   	</div>
                                        <div id="attachments">
                                        	<label>Attached Files</label>
                                        	<ui:repeat var="file" value="#{dataRequest.attachments}" varStatus="status">
                                        		<span class="form-text">
                                        			#{file.name}
                                        			<a href="/drts/file?file_id=#{file.id}">View</a>
                                        		</span>
                                        	</ui:repeat>
                                        </div>
                                        <div id="comments">
									   		<h:outputLabel value="Add Comments"/>
                                            <h:inputTextarea value="#{dataRequest.newComments}" />
                                            
                                            <h:outputLabel value="Comments"/>
                                            <h:outputText value="#{dataRequest.comments}" escape="false" />
                                        </div>
                                    </div>  
                                
                                </div>
                                
                                <div class="form-control col-1-1 mobile-col-1-1">
                                	<h:commandButton styleClass="button" value="Update" action="#{dataRequest.updateRequest(4)}" />
                                	<h:commandButton styleClass="button" value="Put On Hold" action="#{dataRequest.updateRequest(17)}" rendered="#{dataRequest.statusOnHold eq false}" />
						      		<h:commandButton styleClass="button" value="Reject" action="#{dataRequest.updateRequest(5)}" />
                                </div>
    	
    						</h:form>
    						
    						<div id="current_request_id_div" hidden="true"><h:outputText value="#{dataRequest.id}" /></div>
					    	<div id="fileuploader">Upload</div>
					    	
                        </section>
                    </div>
                </section>
            </div>
        </div>
        
        <ui:include src="#{root}includes/footer.xhtml" />
    	
    </h:body>
    
</html>