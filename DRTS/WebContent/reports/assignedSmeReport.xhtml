<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pf="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
    	
    	<ui:include src="#{root}includes/scripts.xhtml" />

	   	<title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body class="section-four">
    
    	<ui:include src="#{root}includes/header.xhtml">
    		<ui:param name="active" value="4" />
    	</ui:include>
    	
    	<div id="content-wrapper">
            <div class="grid">
                <div id="breadcrumb" class="col-1-1 mobile-col-1-1">
                    <h:link value="Home" outcome="#{userSession.homePage}" /> » <h:link value="Reports" outcome="/reports/reports" /> » Requests Assigned to SMEs Report
                </div>
                <section class="col-1-1 mobile-col-1-1">
                    <header id="content-header" class="col-1-1 mobile-col-1-1">
                        <span class="content-header-box">
                            <h1>Requests Assigned to SMEs Report</h1>
                        </span>
                    </header>
                    <div id="main-content" class="col-1-1 mobile-col-1-1">
                        <section class="col-1-1 mobile-col-1-1">
                        
                        	<h:form styleClass="col-1-1 mobile-col-1-1">
                        	
                        		<p>This report displays the number of open requests assigned to each SME.</p>
                        		
                        		<h:panelGroup rendered="#{empty report3.rows}">
                        			<p>The are currently 0 requests that are assigned to SMEs.</p>
                        		</h:panelGroup>
                        		
                        		<h:panelGroup rendered="#{not empty report3.rows}">
	                        		<div class="form-wrapper col-1-1 mobile-col-1-1">
	                        	
	                        			<pf:chart type="pie" model="#{report3.pieModel}" style="width:100%;height:500px" />
	                        			
	                        		</div>
	                        				
									<pf:dataTable id="report_3_table" var="row" styleClass="drtsTable" value="#{report3.rows}" paginator="true" paginatorAlwaysVisible="false" rows="10">
										<pf:column>
											<f:facet name="header">SME Username</f:facet>
											<h:outputText value="#{row.name}" />
										</pf:column>
										
										<pf:column>
											<f:facet name="header">Requests assigned for resolution</f:facet>
											<h:outputText value="#{row.smeCount}" />
										</pf:column>
										
										 <pf:column>
										 	<f:facet name="header">Requests assigned for validation</f:facet>
										 	<h:outputText value="#{row.validatorCount}" />
										 </pf:column>
										 
										 <pf:column>
										 	<f:facet name="header">Total Number of Assigned Requests</f:facet>
										 	<h:outputText value="#{row.totalCount}" />
										 </pf:column>
									</pf:dataTable>
									
									<div class="form-control col-1-1 mobile-col-1-1">
										<h:commandButton styleClass="button" value="Export Table to PDF" rendered="#{userSession.allowedToExportReports eq true}">
											<pe:exporter type="pdf" tableTitle="Requests Assigned to SMEs Report" target="report_3_table" fileName="assigned_sme_report" subTable="false" orientation="Landscape"/>
										</h:commandButton>
									</div>
								</h:panelGroup>
    	
    						</h:form>
					    	
                        </section>
                    </div>
                </section>
            </div>
        </div>
        
        <div class="grid">
            <footer class="col-1-1 mobile-col-1-1">
                <nav class="col-9-12 mobile-col-1-1">
                    <ul>
                        <li>
                            <a title="" target="_blank" href="http://www2.ed.gov/policy/gen/leg/foia/foiatoc.html">FOIA</a>
                        </li>
                        <li class="last">
                            <a title="Download Plug-ins and Viewers" target="_blank" href="http://www.ed.gov/help/reqs/download/viewers.html">Plug-ins and Viewers</a>
                        </li>
                    </ul>
                </nav>
                <nav class="col-3-12 mobile-col-1-1 right">
                	<ul>
                		<li>
                            <a title="" target="_blank" href="http://usa.gov">usa.gov</a>
                        </li>
                        <li>
                            <a title="" target="_blank" href="http://www.ed.gov">ed.gov</a>
                        </li>
                        <li class="last">
                            <a title="" target="_blank" href="http://whitehouse.gov">whitehouse.gov</a>
                        </li>
                    </ul>
                </nav>
            </footer>
        </div>
    	
    </h:body>
    
    
</html>