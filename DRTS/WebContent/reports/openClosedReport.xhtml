<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pf="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
    	
    	<ui:include src="#{root}includes/scripts.xhtml" />

	   	<title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body class="section-four">
    
    	<ui:include src="#{root}includes/header.xhtml">
    		<ui:param name="active" value="4" />
    	</ui:include>
    	
    	<div id="content-wrapper">
            <div class="grid">
                <div id="breadcrumb" class="col-1-1 mobile-col-1-1">
                    <h:link value="Home" outcome="#{userSession.user.homePage}" /> » Open-Closed Requests By Day Report
                </div>
                <section class="col-1-1 mobile-col-1-1">
                    <header id="content-header" class="col-1-1 mobile-col-1-1">
                        <span class="content-header-box">
                            <h1>Open-Closed Requests By Day Report</h1>
                        </span>
                    </header>
                    <div id="main-content" class="col-1-1 mobile-col-1-1">
                        <section class="col-1-1 mobile-col-1-1">
                        
                        	<h:form id="reportForm" styleClass="col-1-1 mobile-col-1-1">
                        	
                        				<p>This report displays the number of requests that were opened or closed on each particular day during the past 30-days period.</p>
                        				<h:panelGroup layout="block" styleClass="errorMessage" rendered="#{not empty openClosedRequestsByDay.errorMessage}">
                        					<p class="errorMessage">#{openClosedRequestsByDay.errorMessage}</p>
                        				</h:panelGroup>
                        				
                        				<p>&#160;</p>
                        	
                        				<pf:chart type="line" title="Opened-Closed Requests Chart" model="#{openClosedRequestsByDay.lineModel}" id="openClosedReportsChart" style="height:300px" />
                        				
                        				<p>&#160;</p>
                        	
										<pf:dataTable id="tbl1" var="row" styleClass="drtsTable"
											value="#{openClosedRequestsByDay.rows}"
											paginator="false">
											<pf:columnGroup type="header">
												<pf:row>  
													<pf:column headerText="Date"/>  
													<pf:column headerText="Number of Requests Opened"/>
													<pf:column headerText="Number of Requests Closed"/>
												</pf:row>  
											</pf:columnGroup>
												<pf:column styleClass="drtsReportColumn" >    
											        <h:outputText value=" #{row.formattedReportDate}"/>  
											    </pf:column>
											    <pf:column styleClass="drtsReportColumn" >  
											        <h:outputText value=" #{row.openedRequests}"/>  
											    </pf:column>
											    <pf:column styleClass="drtsReportColumn" >  
											        <h:outputText value=" #{row.closedRequests}"/>  
											    </pf:column>
										</pf:dataTable>
										
										<p>&#160;</p>
										
										<div id="buttons">
							            	<h:commandButton id="rptExportPdf" styleClass="pull-right" value="Export Table to PDF" rendered="#{userSession.allowedToExportReports eq true}">
							                	<pe:exporter type="pdf" tableTitle="Opened-Closed Requests By Day" target=":reportForm:tbl1" fileName="opened_closed_requests_by_day_report.pdf" subTable="false" orientation="Landscape"/>               
							            	</h:commandButton>

	                                	</div>
    	
    						</h:form>
					    	
                        </section>
                    </div>
                </section>
            </div>
        </div>
    	
    </h:body>
    
    
</html>