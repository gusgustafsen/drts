<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pf="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" lang="en-us"
	xmlns="http://www.w3.org/1999/xhtml" class="no-js">

	<c:set var="root" value="#{request.requestURL.substring(0, request.requestURL.length() - request.requestURI.length())}#{request.contextPath}/" scope="request" />

    <h:head>
    	
    	<ui:include src="#{root}includes/scripts.xhtml" />

	   	<title>Data Request Tracking System | Federal Student Aid</title>
    
    </h:head>
    
    <h:body class="section-four">
    
    	<ui:include src="#{root}includes/header.xhtml">
    		<ui:param name="active" value="4" />
    	</ui:include>
    	
    	<div id="content-wrapper">
            <div class="grid">
                <div id="breadcrumb" class="col-1-1 mobile-col-1-1">
                    <h:link value="Home" outcome="#{userSession.homePage}" /> » Overdue Requests Report
                </div>
                <section class="col-1-1 mobile-col-1-1">
                    <header id="content-header" class="col-1-1 mobile-col-1-1">
                        <span class="content-header-box">
                            <h1>Overdue Requests Report</h1>
                        </span>
                    </header>
                    <div id="main-content" class="col-1-1 mobile-col-1-1">
                        <section class="col-1-1 mobile-col-1-1">
                        
                        	<h:form id="reportForm" styleClass="col-1-1 mobile-col-1-1">
                        	
                        		<p>This report displays the list all overdue requests sorted by requested due date.</p>
                        		
                        		<h:panelGroup rendered="#{not empty report5.resultsTable.dataRequests}">
	                        		<pf:dataTable id="report_5_table" var="dataRequest" styleClass="drtsTable" value="#{report5.resultsTable.dataRequests}">
	                        			<pf:column>
								      		<f:facet name="header">
								      			<h:commandLink actionListener="#{report5.resultsTable.sort}">
								      				<f:attribute name="sort_field" value="request_display_id" />
								      				<span>ID</span>
								      				<h:panelGroup rendered="#{report5.resultsTable.isSortedBy('request_display_id')}">
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq true}">
									      					<span class="arrow-up"></span>
									      				</h:panelGroup>
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq false}">
									      					<span class="arrow-down"></span>
									      				</h:panelGroup>
								      				</h:panelGroup>
								      			</h:commandLink>
								      		</f:facet>
								      		<h:outputText value="#{dataRequest.displayId}" />
								      	</pf:column>
								      	<pf:column>
								      		<f:facet name="header">Description</f:facet>
								      		<h:outputText value="#{dataRequest.description}" />
								      	</pf:column>
								      	<pf:column>
								      		<f:facet name="header">
								      			<h:commandLink actionListener="#{report5.resultsTable.sort}">
								      				<f:attribute name="sort_field" value="created_by" />
								      				<span>Requestor</span>
								      				<h:panelGroup rendered="#{report5.resultsTable.isSortedBy('created_by')}">
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq true}">
									      					<span class="arrow-up"></span>
									      				</h:panelGroup>
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq false}">
									      					<span class="arrow-down"></span>
									      				</h:panelGroup>
								      				</h:panelGroup>
								      			</h:commandLink>
								      		</f:facet>
								      		<h:outputText value="#{dataRequest.drtsRequestor}" />
								      	</pf:column>
								      	<pf:column>
								      		<f:facet name="header">
								      			<h:commandLink actionListener="#{report5.resultsTable.sort}">
								      				<f:attribute name="sort_field" value="request_status" />
								      				<span>Status</span>
								      				<h:panelGroup rendered="#{report5.resultsTable.isSortedBy('request_status')}">
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq true}">
									      					<span class="arrow-up"></span>
									      				</h:panelGroup>
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq false}">
									      					<span class="arrow-down"></span>
									      				</h:panelGroup>
								      				</h:panelGroup>
								      			</h:commandLink>
								      		</f:facet>
								      		<h:outputText value="#{dataRequest.status}" />
								      	</pf:column>
								      	<pf:column>
								      		<f:facet name="header">
								      			<h:commandLink actionListener="#{report5.resultsTable.sort}">
								      				<f:attribute name="sort_field" value="drt_request_date" />
								      				<span>Created On</span>
								      				<h:panelGroup rendered="#{report5.resultsTable.isSortedBy('drt_request_date')}">
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq true}">
									      					<span class="arrow-up"></span>
									      				</h:panelGroup>
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq false}">
									      					<span class="arrow-down"></span>
									      				</h:panelGroup>
								      				</h:panelGroup>
								      			</h:commandLink>
								      		</f:facet>
								      		<h:outputText value="#{dataRequest.createdDateTime}">
								      			<f:converter converterId="defaultDateTimeConverter" />
								      		</h:outputText>
								      	</pf:column>
								      	<pf:column>
								      		<f:facet name="header">
								      			<h:commandLink actionListener="#{report5.resultsTable.sort}">
								      				<f:attribute name="sort_field" value="requested_due_date" />
								      				<span>Due Date</span>
								      				<h:panelGroup rendered="#{report5.resultsTable.isSortedBy('requested_due_date')}">
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq true}">
									      					<span class="arrow-up"></span>
									      				</h:panelGroup>
									      				<h:panelGroup rendered="#{report5.resultsTable.sortAscending eq false}">
									      					<span class="arrow-down"></span>
									      				</h:panelGroup>
								      				</h:panelGroup>
								      			</h:commandLink>
								      		</f:facet>
								      		<h:outputText value="#{dataRequest.dueDate}">
								      			<f:converter converterId="defaultDateConverter" />
								      		</h:outputText>
								      	</pf:column>
	                        		</pf:dataTable>
	                        		<h:panelGroup rendered="#{report5.resultsTable.totalPages > 1}">
	                        			<div class="table-control">
	                        				<h:outputText value="(Page #{report5.resultsTable.currentPage}/#{report5.resultsTable.totalPages}) " />
	                        				<h:commandLink value="« first" action="#{report5.resultsTable.pageFirst}" rendered="#{report5.resultsTable.firstRow ne 0}" />
	                        				<h:commandLink value="‹ prev" action="#{report5.resultsTable.pagePrevious}" rendered="#{report5.resultsTable.firstRow ne 0}" />
	                        				<ui:repeat var="page" value="#{report5.resultsTable.pages}">
	                        					<h:commandLink value="#{page}" actionListener="#{report5.resultsTable.page}" rendered="#{page ne report5.resultsTable.currentPage}" />
	                        					<h:outputText value="#{page}" escape="false" rendered="#{page eq report5.resultsTable.currentPage}" />
	                        				</ui:repeat>
	                        				<h:commandLink value="next ›" action="#{report5.resultsTable.pageNext}" rendered="#{(report5.resultsTable.firstRow + report5.resultsTable.rowsPerPage) lt report5.resultsTable.totalRows}" />
	                        				<h:commandLink value="last »" action="#{report5.resultsTable.pageLast}" rendered="#{(report5.resultsTable.firstRow + report5.resultsTable.rowsPerPage) lt report5.resultsTable.totalRows}" />
	                        			</div>
	                        		</h:panelGroup>
                        		</h:panelGroup>
                        		<h:panelGroup rendered="#{empty report5.resultsTable.dataRequests}">
                        			<p>There are currently 0 overdue requests.</p>
                        		</h:panelGroup>
    	
    						</h:form>
					    	
                        </section>
                    </div>
                </section>
            </div>
        </div>
        
        <ui:include src="#{root}includes/footer.xhtml" />
    	
    </h:body>
    
    
</html>